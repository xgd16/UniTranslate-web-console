# ç»Ÿè®¡ç›‘æ§ API

ç»Ÿè®¡ç›‘æ§ API ç”¨äºæŸ¥è¯¢ç³»ç»Ÿçš„ä½¿ç”¨ç»Ÿè®¡å’Œè¯·æ±‚è®°å½•ï¼Œå¸®åŠ©ç®¡ç†å‘˜äº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶å†µå’Œä¼˜åŒ–é…ç½®ã€‚

## API ç«¯ç‚¹

### è·å–è®¡æ•°è®°å½• ğŸ”’

è·å–å„ä¸ªç¿»è¯‘å¹³å°çš„ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ã€‚

#### è¯·æ±‚

```http
GET /api/getCountRecord
```

#### è¯·æ±‚å¤´
```http
auth_key: your-api-key
```

æˆ–è€…åœ¨ URL ä¸­æ·»åŠ  key å‚æ•°ï¼š
```http
GET /api/getCountRecord?key=your-api-key
```

#### å“åº”å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| code | number | çŠ¶æ€ç ï¼Œ1000 è¡¨ç¤ºæˆåŠŸ |
| msg | string | çŠ¶æ€æ¶ˆæ¯ |
| data | object[] | ç»Ÿè®¡è®°å½•åˆ—è¡¨ |
| data[].id | number | è®°å½• ID |
| data[].serialNumber | string | å¹³å°é…ç½® ID |
| data[].name | string | å¹³å°åç§° |
| data[].totalCount | number | æ€»è¯·æ±‚æ¬¡æ•° |
| data[].successCount | number | æˆåŠŸæ¬¡æ•° |
| data[].failCount | number | å¤±è´¥æ¬¡æ•° |
| data[].charCount | number | æ€»å­—ç¬¦æ•° |
| data[].createTime | string | åˆ›å»ºæ—¶é—´ |
| data[].updateTime | string | æ›´æ–°æ—¶é—´ |
| time | number | æ—¶é—´æˆ³ |

#### å“åº”ç¤ºä¾‹

```json
{
  "code": 1000,
  "msg": "SUCCESS !!!",
  "data": [
    {
      "id": 1,
      "serialNumber": "google-001",
      "name": "Google è·¯çº¿ 1",
      "totalCount": 1000,
      "successCount": 980,
      "failCount": 20,
      "charCount": 50000,
      "createTime": "2025-01-09 12:00:00",
      "updateTime": "2025-01-09 17:00:00"
    }
  ],
  "time": 1715393900901
}
```

### è·å–è¯·æ±‚è®°å½• ğŸ”’

è·å–è¯¦ç»†çš„ç¿»è¯‘è¯·æ±‚è®°å½•ã€‚

#### è¯·æ±‚

```http
GET /api/getRequestRecord
```

#### è¯·æ±‚å¤´
```http
auth_key: your-api-key
```

æˆ–è€…åœ¨ URL ä¸­æ·»åŠ  key å‚æ•°ï¼š
```http
GET /api/getRequestRecord?key=your-api-key
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç ï¼Œé»˜è®¤ 1 |
| size | number | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 10 |
| startTime | string | å¦ | å¼€å§‹æ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss |
| endTime | string | å¦ | ç»“æŸæ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss |
| platform | string | å¦ | å¹³å°ç±»å‹ç­›é€‰ |

#### å“åº”å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| code | number | çŠ¶æ€ç ï¼Œ1000 è¡¨ç¤ºæˆåŠŸ |
| msg | string | çŠ¶æ€æ¶ˆæ¯ |
| data | object | å“åº”æ•°æ® |
| data.total | number | æ€»è®°å½•æ•° |
| data.records | array | è®°å½•åˆ—è¡¨ |
| data.records[].id | number | è®°å½• ID |
| data.records[].cacheId | string | ç¼“å­˜ ID |
| data.records[].fromLang | string | æºè¯­è¨€ |
| data.records[].toLang | string | ç›®æ ‡è¯­è¨€ |
| data.records[].platform | string | ä½¿ç”¨çš„å¹³å° |
| data.records[].ip | string | è¯·æ±‚ IP |
| data.records[].createTime | string | åˆ›å»ºæ—¶é—´ |
| data.records[].translate | object | ç¿»è¯‘å†…å®¹ |
| time | number | æ—¶é—´æˆ³ |

#### å“åº”ç¤ºä¾‹

```json
{
  "code": 1000,
  "msg": "SUCCESS !!!",
  "data": {
    "total": 100,
    "records": [
      {
        "id": 1,
        "cacheId": "cache-001",
        "fromLang": "en",
        "toLang": "zh",
        "platform": "google",
        "ip": "127.0.0.1",
        "createTime": "2025-01-09 17:00:00",
        "translate": {
          "original": "Hello, World!",
          "translated": "ä½ å¥½ï¼Œä¸–ç•Œï¼"
        }
      }
    ]
  },
  "time": 1715393900901
}
```

## ç»Ÿè®¡æŒ‡æ ‡è¯´æ˜

### å¹³å°ç»Ÿè®¡

| æŒ‡æ ‡ | è¯´æ˜ | è®¡ç®—æ–¹å¼ |
|------|------|----------|
| æ€»è¯·æ±‚æ¬¡æ•° | å¹³å°æ¥æ”¶çš„æ‰€æœ‰è¯·æ±‚æ•° | totalCount |
| æˆåŠŸæ¬¡æ•° | ç¿»è¯‘æˆåŠŸçš„è¯·æ±‚æ•° | successCount |
| å¤±è´¥æ¬¡æ•° | ç¿»è¯‘å¤±è´¥çš„è¯·æ±‚æ•° | failCount |
| æˆåŠŸç‡ | ç¿»è¯‘æˆåŠŸçš„æ¯”ç‡ | successCount / totalCount * 100% |
| å­—ç¬¦æ•° | å¤„ç†çš„æ€»å­—ç¬¦æ•° | charCount |

### è¯·æ±‚è®°å½•

| æŒ‡æ ‡ | è¯´æ˜ | ç”¨é€” |
|------|------|------|
| ç¼“å­˜å‘½ä¸­ | è¯·æ±‚æ˜¯å¦å‘½ä¸­ç¼“å­˜ | ä¼˜åŒ–ç¼“å­˜ç­–ç•¥ |
| è¯­è¨€åˆ†å¸ƒ | æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€çš„åˆ†å¸ƒ | äº†è§£ç”¨æˆ·éœ€æ±‚ |
| IP åˆ†å¸ƒ | è¯·æ±‚æ¥æºçš„åœ°ç†åˆ†å¸ƒ | åˆ†æç”¨æˆ·ç¾¤ä½“ |
| æ—¶é—´åˆ†å¸ƒ | è¯·æ±‚çš„æ—¶é—´åˆ†å¸ƒ | äº†è§£ä½¿ç”¨è§„å¾‹ |

## æœ€ä½³å®è·µ

1. **ç›‘æ§å»ºè®®**
   - å®šæœŸæ£€æŸ¥å„å¹³å°çš„æˆåŠŸç‡
   - å…³æ³¨å¼‚å¸¸çš„è¯·æ±‚æ¨¡å¼
   - åˆ†æé«˜å³°æœŸä½¿ç”¨æƒ…å†µ
   - ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡

2. **æ€§èƒ½ä¼˜åŒ–**
   - æ ¹æ®ç»Ÿè®¡è°ƒæ•´å¹³å°é…ç½®
   - ä¼˜åŒ–é«˜é¢‘ç¿»è¯‘çš„ç¼“å­˜
   - åˆ†æå¹¶æ”¹è¿›æ…¢è¯·æ±‚
   - è°ƒæ•´èµ„æºåˆ†é…ç­–ç•¥

3. **æˆæœ¬æ§åˆ¶**
   - ç›‘æ§å„å¹³å°çš„ä½¿ç”¨é‡
   - åˆ†æå­—ç¬¦æ•°ä¸æˆæœ¬å…³ç³»
   - ä¼˜åŒ–å¹³å°é€‰æ‹©ç­–ç•¥
   - åˆç†è®¾ç½®ç¼“å­˜ç­–ç•¥

4. **å®‰å…¨é˜²æŠ¤**
   - ç›‘æ§å¼‚å¸¸ IP çš„è¯·æ±‚
   - è®¾ç½®åˆç†çš„é¢‘ç‡é™åˆ¶
   - åˆ†æå¯ç–‘çš„ä½¿ç”¨æ¨¡å¼
   - ä¿æŠ¤æ•æ„Ÿä¿¡æ¯
